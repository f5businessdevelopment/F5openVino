working nginx.conf
 
(venv) [root@wsfd-advnetlab239 summit]# cat nginx.conf
http {
server {
    listen      172.16.3.200:443 ssl http2;
    server_name grpc.example.com;
 
    #ssl_certificate     /path/to/fullchain.pem;
    #ssl_certificate_key /path/to/privkey.pem;
    ssl_certificate /etc/nginx/server.crt;
    ssl_certificate_key /etc/nginx/server.key;
    # proxy gRPC â†’ your upstream
    location / {
        # these must match your gRPC host header
        grpc_set_header   Host              $http_host;
        grpc_set_header   X-Real-IP         $remote_addr;
        grpc_set_header   X-Forwarded-For   $proxy_add_x_forwarded_for;
        grpc_pass         grpc://model_servers;
    }
}
 
upstream model_servers {
    server 10.56.217.227:9999;
    # you can also add `keepalive` here
}
}
events {
    worker_connections 1024;
}
 
(venv) [root@wsfd-advnetlab239 summit]#
